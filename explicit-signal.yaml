apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: explicit
  labels:
    app: explicit
spec:
  replicas: 1
  selector:
    matchLabels:
      app: explicit
  template:
    metadata:
      labels:
        app: explicit
    spec:
      containers:
      - args:
        - sample-signal-pass
        image: cirocosta/sample-signal-pass:with-signal-defined
        imagePullPolicy: Always
        name: with
        lifecycle:
          preStop:
            exec:
              command:
                - kill
                - -s
                - SIGUSR1
                - '1'
      - args:
        - sample-signal-pass
        image: cirocosta/sample-signal-pass:without-signal-defined
        imagePullPolicy: Always
        name: without
        lifecycle:
          preStop:
            exec:
              command:
                - kill
                - -s
                - SIGUSR1
                - '1'
